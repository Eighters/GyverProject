imports:
  - { resource: parameters.yml }
  - { resource: security.yml }
  - { resource: services.yml }

monolog:
  channels: ['user_access']
  handlers:
    security:
      # log all messages (since debug is the lowest level)
      level:    debug
      type:     stream
      path:     '%kernel.logs_dir%/user_access.log'
      channels: [user_access]

# Put parameters here that don't need to change on each machine where the app is deployed
# http://symfony.com/doc/current/best_practices/configuration.html#application-related-configuration
parameters:
  locale: fr

# Symfony Configuration
framework:
  #esi:             ~
  #translator:      { fallbacks: ["%locale%"] }
  secret:          "%secret%"
  router:
    resource: "%kernel.root_dir%/config/routing.yml"
    strict_requirements: ~
  form:            ~
  csrf_protection: ~
  validation:      { enable_annotations: true }
  #serializer:      { enable_annotations: true }
  templating:
    engines: ['twig']
    #assets_version: SomeVersionScheme
  default_locale:  "%locale%"
  trusted_hosts:   ~
  trusted_proxies: ~
  session:
    # handler_id set to null will use default session handler from php.ini
    handler_id:  ~
    name: GPSESSID
  fragments:       ~
  http_method_override: true

# Twig Configuration
twig:
  debug:            "%kernel.debug%"
  strict_variables: "%kernel.debug%"
  globals:
    application_name: %application_name%

# Doctrine Configuration
doctrine:
  dbal:
    driver:   pdo_mysql
    host:     "%database_host%"
    port:     "%database_port%"
    dbname:   "%database_name%"
    user:     "%database_user%"
    password: "%database_password%"
    charset:  UTF8
    server_version: 5.6
    mapping_types:
      enum: string

  orm:
    auto_generate_proxy_classes: "%kernel.debug%"
    naming_strategy: doctrine.orm.naming_strategy.underscore
    auto_mapping: true

# Doctrine Migrations Configuration
doctrine_migrations:
  dir_name: "%kernel.root_dir%/DoctrineMigrations"
  namespace: Application\Migrations
  table_name: migration_versions
  name: Application Migrations

# Swiftmailer Configuration
swiftmailer:
  transport:  "%mailer_transport%"
  host:       "%mailer_host%"
  port:       "%mailer_port%"
  username:   "%mailer_user%"
  password:   "%mailer_password%"
  spool:      { type: memory }

# FosUser Bundle Configuration
fos_user:
  db_driver: orm # other valid values are 'mongodb', 'couchdb' and 'propel'
  firewall_name: main
  user_class: GP\CoreBundle\Entity\User
  registration:
    form:
      type: app_user_registration
  profile:
    form:
      type: app_user_profile_edit

# KnpPaginator Configuration
knp_paginator:
  page_range: "%item_per_page%"
  template:
    pagination: :Pagination:sliding.html.twig
    sortable: :Pagination:sortable_link.html.twig
